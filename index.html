<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>DUSTHECAT.exe</title>

<link rel="stylesheet" href="https://unpkg.com/98.css" />

<style>
body {
margin: 0;
background: teal;
font-family: "MS Sans Serif", sans-serif;
overflow: hidden;
}

/* ---------------- BOOT SCREEN ---------------- */

#boot-screen {
position: fixed;
inset: 0;
background: url("./bootscreen.jpg") center center no-repeat;
background-size: cover;
display: flex;
justify-content: center;
align-items: center;
z-index: 9999;
}

.boot-container {
position: absolute;
bottom: 4%;
left: 50%;
transform: translateX(-50%);
display: flex;
flex-direction: column;
align-items: center;
}

.boot-bar {
width: 320px;
height: 20px;
border: 2px solid black;
background: #c0c0c0;
padding: 2px;
}

.boot-progress {
height: 100%;
width: 0%;
background: linear-gradient(90deg, #000080, #1084d0);
}

.boot-text {
margin-top: 15px;
color: black;
font-size: 14px;
}

/* ---------------- DESKTOP ---------------- */

#desktop {
display: none;
height: calc(100vh - 40px);
position: relative;
overflow: hidden;
}

/* fixed left column icons */
.fixed-icons {
position: absolute;
top: 20px;
left: 20px;
}

/* scattered icon layer */
#icon-layer {
position: absolute;
inset: 0;
}

.icon {
width: 80px;
text-align: center;
color: white;
cursor: pointer;
user-select: none;
position: absolute;
}

.icon img {
width: 32px;
height: 32px;
}

/* ---------------- FLOATING CAT ---------------- */

#floating-cat {
position: absolute;
width: 120px;
z-index: 1;
pointer-events: none;
}

/* ---------------- WINDOWS ---------------- */

.window {
position: absolute;
width: 420px;
z-index: 5;
}

.media-window {
width: 520px;
}

.media-content {
width: 100%;
max-height: 60vh;
border: 1px inset #000;
background: #fff;
display: block;
}

.contract-box {
font-family: monospace;
font-size: 12px;
word-break: break-all;
background: #fff;
padding: 6px;
border: 1px inset #000;
}

/* ---------------- TASKBAR ---------------- */

#taskbar {
position: fixed;
bottom: 0;
left: 0;
right: 0;
height: 40px;
background: #c0c0c0;
border-top: 2px solid white;
display: flex;
align-items: center;
padding: 0 6px;
box-sizing: border-box;
z-index: 1000;
}

.start-button button {
font-weight: bold;
padding: 2px 12px;
}

.taskbar-spacer {
flex: 1;
}

.taskbar-clock .window {
margin: 0;
}

.taskbar-clock .window-body {
padding: 3px 8px;
min-width: 60px;
text-align: center;
}

/* ---------------- START MENU ---------------- */

#start-menu {
display: none;
position: fixed;
bottom: 40px;
left: 5px;
width: 200px;
z-index: 2000;
}
</style>
</head>

<body>

<!-- BOOT SCREEN -->
<div id="boot-screen">
<div class="boot-container">
<div class="boot-bar">
<div class="boot-progress" id="boot-progress"></div>
</div>
<div class="boot-text">Starting DUSTHECAT.exe...</div>
</div>
</div>

<audio id="startup-sound">
<source src="https://www.myinstants.com/media/sounds/windows-98-startup.mp3">
</audio>

<!-- DESKTOP -->
<div id="desktop">

<img src="./dusthecat.png" id="floating-cat" alt="DUSTHECAT">

<!-- Fixed Icons (original positions preserved) -->
<div class="fixed-icons">
<div class="icon" style="position:relative; margin-bottom:20px;" ondblclick="openWindow('about')">
<img src="https://win98icons.alexmeub.com/icons/png/computer_explorer-0.png">
<div>About</div>
</div>

<div class="icon" style="position:relative; margin-bottom:20px;" ondblclick="openWindow('token')">
<img src="https://win98icons.alexmeub.com/icons/png/notepad-0.png">
<div>Token.txt</div>
</div>

<div class="icon" style="position:relative;" ondblclick="openWindow('roadmap')">
<img src="https://win98icons.alexmeub.com/icons/png/directory_open_file_mydocs-4.png">
<div>Roadmap</div>
</div>
</div>

<!-- Random Media Icons -->
<div id="icon-layer"></div>

<!-- Media Viewer -->
<div id="mediaViewer" class="window media-window" style="top:120px; left:200px; display:none;">
<div class="title-bar" onmousedown="dragStart(event, this.parentElement)">
<div class="title-bar-text" id="mediaTitle">Media Viewer</div>
<div class="title-bar-controls">
<button aria-label="Close" onclick="closeMedia()"></button>
</div>
</div>
<div class="window-body" id="mediaBody"></div>
</div>

</div>

<!-- TASKBAR -->
<div id="taskbar">
<div class="start-button">
<button onclick="toggleStartMenu()">Start</button>
</div>

<div class="taskbar-spacer"></div>

<div class="taskbar-clock">
<div class="window">
<div class="window-body" id="clock"></div>
</div>
</div>
</div>

<!-- START MENU -->
<div id="start-menu" class="window">
<div class="window-body">
<p><strong>Programs</strong></p>
<hr>
<p style="cursor:pointer;" onclick="openWindow('about')">About</p>
<p style="cursor:pointer;" onclick="openWindow('token')">Token Info</p>
<p style="cursor:pointer;" onclick="openWindow('roadmap')">Roadmap</p>
</div>
</div>

<script>

/* ---------------- BOOT ---------------- */
let progress = 0;
const bootInterval = setInterval(() => {
progress += 4;
document.getElementById("boot-progress").style.width = progress + "%";
if (progress >= 100) {
clearInterval(bootInterval);
setTimeout(() => {
document.getElementById("boot-screen").style.display = "none";
document.getElementById("desktop").style.display = "block";
document.getElementById("startup-sound").play();
startCatAnimation();
scatterIcons();
}, 500);
}
}, 100);

/* ---------------- CLOCK ---------------- */
function updateClock() {
const now = new Date();
document.getElementById("clock").textContent =
now.toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});
}
setInterval(updateClock, 1000);
updateClock();

/* ---------------- START MENU ---------------- */
function toggleStartMenu() {
const menu = document.getElementById("start-menu");
menu.style.display = menu.style.display === "none" ? "block" : "none";
}

/* ---------------- MEDIA ICONS ---------------- */

const mediaIcons = [
{ label: "meme1.gif", type: "image", url: "REPLACE_URL_1" },
{ label: "meme2.png", type: "image", url: "REPLACE_URL_2" },
{ label: "clip1.mp4", type: "video", url: "REPLACE_URL_3" },
{ label: "clip2.mp4", type: "video", url: "REPLACE_URL_4" },
{ label: "poster.jpg", type: "image", url: "REPLACE_URL_5" },
{ label: "hype.gif", type: "image", url: "REPLACE_URL_6" }
];

function scatterIcons() {
const layer = document.getElementById("icon-layer");
const desktop = document.getElementById("desktop");
const padding = 20;

mediaIcons.forEach(item => {
const icon = document.createElement("div");
icon.className = "icon";
icon.innerHTML = `
<img src="https://win98icons.alexmeub.com/icons/png/image_old-0.png">
<div>${item.label}</div>
`;

icon.ondblclick = () => openMedia(item.label, item.url, item.type);

icon.style.left = Math.random() * (desktop.clientWidth - 100) + "px";
icon.style.top = Math.random() * (desktop.clientHeight - 100) + "px";

layer.appendChild(icon);
});
}

/* ---------------- MEDIA VIEWER ---------------- */

function openMedia(title, url, type) {
const viewer = document.getElementById("mediaViewer");
const body = document.getElementById("mediaBody");
document.getElementById("mediaTitle").textContent = title;

if (type === "video") {
body.innerHTML = `<video class="media-content" controls autoplay>
<source src="${url}">
</video>`;
} else {
body.innerHTML = `<img class="media-content" src="${url}">`;
}

viewer.style.display = "block";
}

function closeMedia() {
document.getElementById("mediaViewer").style.display = "none";
document.getElementById("mediaBody").innerHTML = "";
}

/* ---------------- CAT ---------------- */
function startCatAnimation() {
const cat = document.getElementById("floating-cat");
let x = 100, y = 100, dx = 2, dy = 2;

function animate() {
const desktop = document.getElementById("desktop");
const maxX = desktop.clientWidth - cat.clientWidth;
const maxY = desktop.clientHeight - cat.clientHeight;

x += dx;
y += dy;

if (x <= 0 || x >= maxX) dx *= -1;
if (y <= 0 || y >= maxY) dy *= -1;

cat.style.left = x + "px";
cat.style.top = y + "px";

requestAnimationFrame(animate);
}
animate();
}

</script>

</body>
</html>
